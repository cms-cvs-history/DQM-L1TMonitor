
process ecalde = {

    include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
    replace MessageLogger.destinations = { "log.txt" }
   
    untracked PSet maxEvents = { untracked int32 input = -1 }
 
        source = PoolSource{
                untracked vstring fileNames={
                "rfio:/castor/cern.ch/user/f/fruboes/CMSSW180/NoeProd/digi_35.root"
                }
        }

   
 #######################################################################
                          ##  DQM SERVICES
#######################################################################
include "DQMServices/Core/data/DQM.cfg"

include "DQMServices/Components/test/dqm_onlineEnv.cfi"
      replace dqmSaver.fileName      = "L1T"
       replace dqmSaver.dirName       = "."
       replace dqmSaver.isPlayback    = true
       # (this goes into the foldername)
       replace dqmEnv.subSystemFolder = "L1T"

    #generate dummy digis  DTTF,CSCTF, RCT 
    include "L1Trigger/HardwareValidation/data/L1DummyProducer.cfi"
    replace l1dummy.VerboseFlag = 0 
    replace l1dummy.DO_SYSTEM       = { 0,0,1,0, 0,1,0,1, 0,0,0,0 }
    #sys list                         {ETP,HTP,RCT,GCT, DTP,DTF,CTP,CTF,  RPC,LTC,GMT,GT};
    
    #produce general de-dqm sources
  #  include "DQM/L1TMonitor/data/L1TDEMON.cfi"
  #  replace l1demon.VerboseFlag = 0

  include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
  include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
  include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

  include "L1TriggerConfig/RPCTriggerConfig/data/RPCPatSource.cfi"

  include "L1Trigger/GlobalMuonTrigger/data/l1GmtEmulDigis.cff"
  include "L1Trigger/GlobalMuonTrigger/data/l1GmtEmulDigis.cfi"

  replace l1GmtEmulDigis.DTCandidates = l1dummy:DT
  replace l1GmtEmulDigis.CSCCandidates = l1dummy:CSC
  replace l1GmtEmulDigis.MipIsoData = l1dummy

  module l1RpcEmulDigis = RPCTrigger{
         string label = "muonRPCDigis"
  }


        module l1trpctf = L1TRPCTF{
          untracked bool verbose = false
          untracked bool MonitorDaemon = true
          untracked bool DaqMonitorBEInterface = true
   #       untracked string outputFile ="./L1TDQM.root"
          untracked string outputFile =""
          InputTag rpctfSource = l1GmtEmulDigis
        }

   service =  RandomNumberGeneratorService { PSet moduleSeeds = {
            untracked uint32 l1dummy = 1762349
    }}


path p ={l1RpcEmulDigis, l1dummy ,  l1GmtEmulDigis , l1trpctf, dqmEnv, dqmSaver }

    
#    module outputEvents = PoolOutputModule {
#    	untracked string fileName = "ecaltest.root"
#        untracked vstring outputCommands = {"keep *"}
#    }
#    endpath outpath = { outputEvents }
    
}
