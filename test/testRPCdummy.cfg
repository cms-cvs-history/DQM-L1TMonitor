
process ecalde = {

    include "FWCore/MessageLogger/data/MessageLogger.cfi"
 
    replace MessageLogger.destinations = { "log.txt" }
   
    untracked PSet maxEvents = { untracked int32 input = -1000}
 
        source = PoolSource{
                untracked vstring fileNames={
                "file:/tmp/fruboes/digis.root"
                #"rfio:/castor/cern.ch/user/f/fruboes/CMSSW200/NoeProd1/digi_48.root"
                }
        }


   
 #######################################################################
                          ##  DQM SERVICES
#######################################################################
include "DQMServices/Core/data/DQM.cfg"

include "DQMServices/Components/test/dqm_onlineEnv.cfi"
     replace dqmSaver.convention       = "Online"
     replace dqmSaver.dirName          = "."
     replace dqmSaver.producer         = "DQM"
     replace dqmEnv.subSystemFolder    = "L1T"


    #generate dummy digis  DTTF,CSCTF, RCT 
    include "L1Trigger/HardwareValidation/data/L1DummyProducer.cfi"
    replace l1dummy.VerboseFlag = 0 
    replace l1dummy.DO_SYSTEM       = { 0,0,1,0, 0,1,0,1, 0,0,0,0 }
    #sys list                         {ETP,HTP,RCT,GCT, DTP,DTF,CTP,CTF,  RPC,LTC,GMT,GT};
    
    #produce general de-dqm sources
  #  include "DQM/L1TMonitor/data/L1TDEMON.cfi"
  #  replace l1demon.VerboseFlag = 0

  include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"
  include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
  include "Geometry/RPCGeometry/data/rpcGeometry.cfi"

  include "L1TriggerConfig/RPCTriggerConfig/data/RPCPatSource.cfi"

  include "L1Trigger/GlobalMuonTrigger/data/gmtDigis.cff"
  include "L1Trigger/GlobalMuonTrigger/data/gmtDigis.cfi"

  replace gmtDigis.DTCandidates = l1dummy:DT
  replace gmtDigis.CSCCandidates = l1dummy:CSC
  replace gmtDigis.MipIsoData = l1dummy


  include "L1TriggerConfig/RPCTriggerConfig/data/RPCPatSource.cfi"
  include "L1TriggerConfig/RPCTriggerConfig/data/RPCConeSource.cfi"
  # include "L1TriggerConfig/RPCTriggerConfig/data/RPCHwConfigSource.cfi"
  include "L1Trigger/RPCTrigger/data/rpcTriggerDigis.cfi"
  replace rpcTriggerDigis.label = "rpcunpacker"  

        module l1trpctf = L1TRPCTF{
          untracked bool verbose = false
          untracked bool MonitorDaemon = true
          untracked bool DaqMonitorBEInterface = true
   #       untracked string outputFile ="./L1TDQM.root"
          untracked string outputFile =""
          InputTag rpctfSource = gmtDigis
          InputTag rpctfRPCDigiSource = rpcunpacker
        }

   service =  RandomNumberGeneratorService { PSet moduleSeeds = {
            untracked uint32 l1dummy = 1762349
    }}



    include "DQM/L1TMonitorClient/data/L1TRPCTFClient.cff"
    replace l1trpctfClient.verbose = true

#   module l1trpctfClient = L1TRPCTFClient {
#       untracked string input_dir = "L1T/L1TRPCTF"
#       untracked string output_dir = "L1T/L1TRPCTFClient"
#       untracked int32 prescaleEvt = 1
#       untracked bool verbose = false
#
#   }
#   module l1tRPCTFqTester = QualityTester {
#     untracked FileInPath qtList = "DQM/L1TMonitorClient/test/rpcTFQualityTests.xml"
#     untracked bool getQualityTestsFromFile = true
#     //untracked int32 QualityTestPrescaler = 500
#   }
    
  #  path p ={rpcTriggerDigis, l1dummy , gmtDigis  , l1trpctf, l1tRPCTFqTester,l1trpctfClient , dqmEnv, dqmSaver }
    path p ={rpcTriggerDigis, l1dummy , gmtDigis  , l1trpctf,   l1trpctfqTester, l1trpctfClient , dqmEnv, dqmSaver }

    
#    module outputEvents = PoolOutputModule {
#    	untracked string fileName = "ecaltest.root"
#        untracked vstring outputCommands = {"keep *"}
#    }
#    endpath outpath = { outputEvents }
    
}
